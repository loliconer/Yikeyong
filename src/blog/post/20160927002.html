<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js学习笔记（一）</title>
    <link href="/public/css/global.css" rel="stylesheet">
    <link href="/public/css/blog.css" rel="stylesheet">
</head>
<body>
<div class="container page-post">
    <h3 class="post-title">Three.js学习笔记（一）</h3>
    <h2 id="一概念单词">一、概念单词</h2>

    <ul>
        <li>Scene</li>
        <li>Camera</li>
        <li>Renderer：渲染引擎有WebGL，调用显卡的GPU，使用硬件加速，渲染速度最快；Canvas，浏览器支持程度最好，主流浏览器均支持，尤其是IE、Opera只支持Canvas；SVG。</li>
        <li>Material</li>
        <li>Geometry</li>
        <li>Mesh</li>
        <li>Shader</li>
        <li>Light</li>
    </ul>

    <h2 id="二基础框架">二、基础框架</h2>

    <h4 id="scene">Scene</h4>

    <p>所有的对象都需要加到场景中，如Camera，Mesh，Light等。</p>


    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-keyword">var</span> scene = <span class="hljs-keyword">new</span> THREE.Scene();</code></pre>

    <h4 id="camera">Camera</h4>


    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-comment">//PerspectiveCamera</span>
<span class="hljs-keyword">var</span> camera = <span class="hljs-keyword">new</span> THREE.PerspectiveCamera(angle, width/height, near, far);</code></pre>


    <h4 id="renderer">Renderer</h4>

    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-comment">//WebGLRenderer</span>
<span class="hljs-keyword">var</span> renderer = <span class="hljs-keyword">new</span> THREE.WebGLRenderer();
renderer.setSize(width, height);
document.body.appendChild(renderer.domElement);</code></pre>


    <h4 id="material">Material</h4>

    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-comment">//MeshBasicMaterial</span>
<span class="hljs-keyword">var</span> material = <span class="hljs-keyword">new</span> THREE.MeshBashMaterial({
    color: <span class="hljs-number">0x0f0</span>
});</code></pre>


    <h4 id="geometry">Geometry</h4>

    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-comment">//CubeGeometry</span>
<span class="hljs-keyword">var</span> geometry = <span class="hljs-keyword">new</span> THREE.CubeGeometry(x, y, z, [segmentsX], [segmentsY], [segmentsZ], [materials], [sides]);</code></pre>


    <h4 id="mesh">Mesh</h4>

    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-keyword">var</span> mesh = <span class="hljs-keyword">new</span> THREE.Mesh(geometry, material);</code></pre>


    <h4 id="light">Light</h4>

    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-comment">//DirectionalLight</span>
<span class="hljs-keyword">var</span> light= <span class="hljs-keyword">new</span> THREE.DirectionalLight(color, intensity);
light.position.set(x, y, z);</code></pre>


    <h4 id="渲染">渲染</h4>

    <pre class="prettyprint"><code class="language-js hljs ">renderer.render(scene, camera, [renderTarget], [forceClear]);</code></pre>

    <p>renderTarget：渲染的目标，默认是渲染到前面定义的render中。 forceClear：每次绘制之前都将画布的内容清除，即使autoClear设置为false，也会清除。</p>

    <h4 id="完整的代码如下">完整的代码如下：</h4>


    <pre class="prettyprint"><code class="language-js hljs "><span class="hljs-keyword">var</span> scene, camera, renderer;
<span class="hljs-keyword">var</span> geometry, material, mesh;
init();
animate();
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> {</span>
    <span class="hljs-comment">//初始化场景</span>
    scene = <span class="hljs-keyword">new</span> THREE.Scene();
    <span class="hljs-comment">//初始化相机</span>
    camera = <span class="hljs-keyword">new</span> THREE.PerspectiveCamera( <span
                class="hljs-number">60</span>, window.innerWidth / window.innerHeight, <span class="hljs-number">0.01</span>, <span
                class="hljs-number">1e10</span> );
    camera.position.z = <span class="hljs-number">0.5</span>;
    <span class="hljs-comment">//初始化几何体</span>
    geometry = <span class="hljs-keyword">new</span> THREE.CubeGeometry(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span
                class="hljs-number">1</span>);
    <span class="hljs-comment">//初始化材质</span>
    material = <span class="hljs-keyword">new</span> THREE.MeshBasicMaterial({
    color: <span class="hljs-number">0x0f0</span>
    });
    <span class="hljs-comment">//初始化网格体</span>
    mesh = <span class="hljs-keyword">new</span> THREE.Mesh(geometry, material);
    <span class="hljs-comment">//初始化光源</span>
    <span class="hljs-keyword">var</span> light = <span class="hljs-keyword">new</span> THREE.DirectionalLight(<span
                class="hljs-number">0xffffff</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">//平行光源</span>
    light.position.set(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">1000</span>);
    <span class="hljs-comment">//初始化渲染器</span>
    renderer = <span class="hljs-keyword">new</span> THREE.WebGLRenderer( { antialias: <span class="hljs-literal">false</span> } );
    renderer.setSize(window.innerWidth, window.innerHeight);
    <span class="hljs-comment">//所有对象添加到场景中</span>
    <span class="hljs-comment">//添加网格体</span>
    scene.add(mesh);
    <span class="hljs-comment">//添加光源</span>
    scene.add(light);
    <span class="hljs-comment">//将渲染器添加到网页中</span>
    document.body.appendChild(renderer.domElement);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">animate</span><span class="hljs-params">()</span> {</span>
    requestAnimationFrame(animate);
    mesh.rotation.x += <span class="hljs-number">0.01</span>;
    mesh.rotation.y += <span class="hljs-number">0.02</span>;
    <span class="hljs-comment">//渲染场景</span>
    renderer.render(scene, camera);
}</code></pre>
</div>
</body>
</html>